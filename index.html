<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tree Life Simulation - Hyperrealistic Edition</title>
  <link rel="stylesheet" href="styles/main.css">
</head>
<body>
  <!-- Control Panel -->
  <div id="controls">
    <h2>ğŸŒ³ Tree Life Simulator</h2>
    <p class="subtitle">Hyperrealistic tree growth simulation</p>

    <!-- Environment Section -->
    <div class="section">
      <div class="section-title">ğŸŒ Environment</div>

      <div class="control-group">
        <div class="control-label">
          <span>â˜€ï¸ Sunlight <span class="tooltip" title="Photosynthetically active radiation (PAR). Trees need 20+ hours light annually to thrive.">â“˜</span></span>
          <span class="value" id="sunVal">70%</span>
        </div>
        <input type="range" id="sun" min="0" max="100" value="70">
      </div>

      <div class="control-group">
        <div class="control-label">
          <span>ğŸ’§ Water <span class="tooltip" title="Soil moisture. Optimal: 50-70%. Drought < 30%; Waterlogging > 85%.">â“˜</span></span>
          <span class="value" id="waterVal">60%</span>
        </div>
        <input type="range" id="water" min="0" max="100" value="60">
      </div>

      <div class="control-group">
        <div class="control-label">
          <span>ğŸŒ¡ï¸ Temperature <span class="tooltip" title="Mean annual temperature. Optimal: 15-28Â°C. Frost < 0Â°C causes damage.">â“˜</span></span>
          <span class="value" id="tempVal">20Â°C</span>
        </div>
        <input type="range" id="temp" min="-20" max="50" value="20">
      </div>

      <div class="control-group">
        <div class="control-label">
          <span>ğŸª´ Soil Quality <span class="tooltip" title="Nutrient richness and pH balance. Poor soil limits growth; excellent soil accelerates it.">â“˜</span></span>
          <span class="value" id="soilVal">70%</span>
        </div>
        <input type="range" id="soil" min="0" max="100" value="70">
      </div>

      <div class="control-group">
        <div class="control-label">
          <span>ğŸ’¨ Wind <span class="tooltip" title="Wind speed. Strong wind (> 80) can cause branch damage. Affects transpiration.">â“˜</span></span>
          <span class="value" id="windVal">30%</span>
        </div>
        <input type="range" id="wind" min="0" max="100" value="30">
      </div>

      <div class="control-group">
        <div class="control-label">
          <span>â˜ï¸ Humidity <span class="tooltip" title="Relative humidity. Affects transpiration rates and disease risk.">â“˜</span></span>
          <span class="value" id="humidityVal">60%</span>
        </div>
        <input type="range" id="humidity" min="0" max="100" value="60">
      </div>
    </div>

    <!-- Stressors -->
    <div class="section">
      <div class="section-title">âš ï¸ Stressors</div>
      <div class="checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" id="disease"> ğŸ¦  Disease
        </label>
        <label class="checkbox-label">
          <input type="checkbox" id="pests"> ğŸ› Pests
        </label>
        <label class="checkbox-label">
          <input type="checkbox" id="storm"> â›ˆï¸ Storm
        </label>
        <label class="checkbox-label">
          <input type="checkbox" id="pollution"> ğŸ’¨ Pollution
        </label>
      </div>
    </div>

    <!-- Time Controls -->
    <div class="section">
      <div class="section-title">â±ï¸ Time</div>

      <div class="control-group">
        <div class="control-label">
          <span>Speed</span>
          <span class="value" id="speedVal">1.0x</span>
        </div>
        <input type="range" id="speed" min="0" max="10" step="0.1" value="1">
      </div>

      <div class="button-row">
        <button class="primary" id="toggle">â¸ Pause</button>
        <button class="secondary" id="reset">â†º Reset</button>
      </div>
    </div>

    <!-- Seed Control -->
    <div class="section">
      <div class="section-title">ğŸ² Randomness</div>
      <div class="seed-input">
        <input type="number" id="seed" value="12345" min="0" max="999999">
        <button class="secondary" id="applySeed">Apply</button>
      </div>
    </div>

    <!-- Readout -->
    <div class="readout" id="readout">
      <div class="readout-row">
        <span class="readout-label">Year</span>
        <span class="readout-value" id="rYear">0.0</span>
      </div>
      <div class="readout-row">
        <span class="readout-label">Season</span>
        <span class="readout-value" id="rSeason">Spring</span>
      </div>
      <div class="readout-row">
        <span class="readout-label">Age</span>
        <span class="readout-value" id="rAge">0 years</span>
      </div>
      <div class="readout-row">
        <span class="readout-label">Health</span>
        <span class="readout-value healthy" id="rHealth">100</span>
      </div>
      <div class="readout-row">
        <span class="readout-label">Height</span>
        <span class="readout-value" id="rHeight">0 m</span>
      </div>
      <div class="readout-row">
        <span class="readout-label">DBH</span>
        <span class="readout-value" id="rDBH">0 cm</span>
      </div>
      <div class="readout-row">
        <span class="readout-label">Biomass</span>
        <span class="readout-value" id="rBiomass">0 kg</span>
      </div>
      <div class="readout-row">
        <span class="readout-label">Status</span>
        <span class="readout-value healthy" id="rStatus">ğŸŒ± Germinating</span>
      </div>
    </div>

    <!-- Health Graph -->
    <div class="graph-container">
      <div class="graph-title">Health Trajectory</div>
      <canvas id="healthGraph" width="280" height="80"></canvas>
    </div>

    <!-- Metrics -->
    <div class="metrics">
      <div class="metric">
        <span>COâ‚‚ Stored</span>
        <span id="metricCO2">0 kg</span>
      </div>
      <div class="metric">
        <span>Oâ‚‚ Produced</span>
        <span id="metricO2">0 kg</span>
      </div>
    </div>
  </div>

  <!-- Canvas Container -->
  <div id="sim">
    <canvas id="canvas"></canvas>
  </div>

  <!-- Scripts -->
  <script src="js/config.js"></script>
  <script src="js/prng.js"></script>
  <script src="js/tree.js"></script>
  <script src="js/environment.js"></script>
  <!-- Rendering bundle (replaces modularized rendering scripts) -->
  <script src="js/renderings.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/simulation.js"></script>
</body>
</html>
